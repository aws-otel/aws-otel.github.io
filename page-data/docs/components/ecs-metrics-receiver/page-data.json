{
    "componentChunkName": "component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-docs-query-js",
    "path": "/docs/components/ecs-metrics-receiver",
    "result": {"data":{"mdx":{"id":"457f88cd-d015-5780-aad2-bdd4d408e6c8","excerpt":"The Amazon ECS container agent provides a method for customers to retrieve various task metadata and\n Docker stats  by using\n ECS Task Metadata Endpoint .\nTheâ€¦","fields":{"slug":"/docs/components/ecs-metrics-receiver/"},"frontmatter":{"title":"Getting started using AWS ECS container metrics receiver in AWS Distro for OpenTelemetry Collector","description":"The Amazon ECS container agent provides a method to retrieve various task metadata and Docker stats, which is referred to as the task metadata endpoint. AWS Container Observability team wrote a receiver in the OpenTelemetry Collector that scrapes this task metadata endpoint and collects resource (such as CPU, memory, network, and disk) usage metrics. Customers can enable awsecscontainermetrics receiver in their OpenTelemetry configuration file to collect specific task- and container-level metrics and send them to their desired destinations and monitoring solutions.","image":null,"disableTableOfContents":null},"body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"Getting started using AWS ECS container metrics receiver in AWS Distro for OpenTelemetry Collector\",\n  \"description\": \"The Amazon ECS container agent provides a method to retrieve various task metadata and Docker stats, which is referred to as the task metadata endpoint. AWS Container Observability team wrote a receiver in the OpenTelemetry Collector that scrapes this task metadata endpoint and collects resource (such as CPU, memory, network, and disk) usage metrics. Customers can enable awsecscontainermetrics receiver in their OpenTelemetry configuration file to collect specific task- and container-level metrics and send them to their desired destinations and monitoring solutions.\",\n  \"path\": \"/docs/components/ecs-metrics-receiver\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"The Amazon ECS container agent provides a method for customers to retrieve various task metadata and\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.docker.com/engine/api/v1.30/#operation/ContainerStats\"\n  }, \"Docker stats\"), \" by using\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-metadata-endpoint.html\"\n  }, \"ECS Task Metadata Endpoint\"), \".\\nThe AWS Container Observability team developed a receiver in the OpenTelemetry Collector that scrapes this endpoint and\\ncollects container metrics (such as CPU, memory, network, and disk). Customers can enable \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"awsecscontainermetrics\"), \" receiver\\nin their OpenTelemetry configuration file to collect specific task- and container-level metrics and send the data to\\ndesired monitoring tools such as Amazon CloudWatch.\"), mdx(\"p\", null, \"This receiver works with \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-metadata-endpoint-v4.html\"\n  }, \"ECS Task Metadata Endpoint V4\"), \",\\nwhich means Amazon ECS tasks with Fargate launch type with platform version \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"1.4.0\"), \" or later or Amazon ECS tasks with Amazon\\nEC2 launch type with ECS agent version \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"1.39.0+\"), \". For more information, see\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-agent-versions.html\"\n  }, \"Amazon ECS Container Agent Versions\"), \".\"), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"enabling-the-aws-ecs-container-metrics-receiver\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#enabling-the-aws-ecs-container-metrics-receiver\",\n    \"aria-label\": \"enabling the aws ecs container metrics receiver permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Enabling the AWS ECS Container Metrics Receiver\"), mdx(\"p\", null, \"To enable the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"awsecscontainermetrics\"), \" receiver, add the name under receiver section in the config file \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"(local/config.yaml)\"), \".\\nBy default, the receiver scrapes the ECS task metadata endpoint every 20s and collects all metrics\\n(For the full list of metrics, see \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#available-metrics\"\n  }, \"Available Metrics\"), \").\"), mdx(\"p\", null, \"The following configuration collects AWS ECS resource usage metrics by using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"awsecscontainermetrics\"), \" receiver and sends\\nthem to CloudWatch using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"awsemf\"), \" exporter. Check out \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://aws-otel.github.io/docs/setup/ecs\"\n  }, \"SETUP\"), \" section for\\nconfiguring AWS Distro for OpenTelemetry Collector in Amazon Elastic Container Service.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\",\n    \"metastring\": \"lineNumbers=true\",\n    \"lineNumbers\": \"true\"\n  }, \"receivers:\\n  awsecscontainermetrics:\\nexporters:\\n  awsemf:\\n      namespace: 'ECS/ContainerMetrics/OpenTelemetry'\\n      log_group_name: '/ecs/containermetrics/opentelemetry'\\n\\nservice:\\n  pipelines:\\n      metrics:\\n          receivers: [awsecscontainermetrics]\\n          exporters: [awsemf]\\n\")), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"set-metrics-collection-interval\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#set-metrics-collection-interval\",\n    \"aria-label\": \"set metrics collection interval permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Set Metrics Collection Interval\"), mdx(\"p\", null, \"Customers can configure \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"collection_interval\"), \" under \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"awsecscontainermetrics\"), \" receiver to scrape and gather metrics\\nat a specific interval. The following example configuration will collect metrics every 40 seconds.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\",\n    \"metastring\": \"lineNumbers=true\",\n    \"lineNumbers\": \"true\"\n  }, \"receivers:\\n  awsecscontainermetrics:\\n      collection_interval: 40s\\nexporters:\\n  awsemf:\\n      namespace: 'ECS/ContainerMetrics/OpenTelemetry'\\n      log_group_name: '/ecs/containermetrics/opentelemetry'\\n\\nservice:\\n  pipelines:\\n      metrics:\\n          receivers: [awsecscontainermetrics]\\n          exporters: [awsemf]\\n\")), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"collect-specific-metrics-and-update-metric-names\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#collect-specific-metrics-and-update-metric-names\",\n    \"aria-label\": \"collect specific metrics and update metric names permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Collect specific metrics and update metric names\"), mdx(\"p\", null, \"The previous configuration collects all the metrics and sends them to Amazon CloudWatch using default names. Customers\\ncan use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"filter\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"metrictransform\"), \" processors to send specific metrics and rename them respectively.\"), mdx(\"p\", null, \"The following configuration example collects only the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ecs.task.memory.utilized\"), \" metric and renames it\\nto \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MemoryUtilized\"), \" before sending to CloudWatch.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\",\n    \"metastring\": \"lineNumbers=true\",\n    \"lineNumbers\": \"true\"\n  }, \"receivers:\\n  awsecscontainermetrics:\\nexporters:\\n  awsemf:\\n      namespace: 'ECS/ContainerMetrics/OpenTelemetry'\\n      log_group_name: '/ecs/containermetrics/opentelemetry'\\nprocessors:\\n  filter:\\n    metrics:\\n      include:\\n        match_type: strict\\n        metric_names:\\n          - ecs.task.memory.utilized\\n\\n  metricstransform:\\n    transforms:\\n      - metric_name: ecs.task.memory.utilized\\n        action: update\\n        new_name: MemoryUtilized\\n\\nservice:\\n  pipelines:\\n      metrics:\\n          receivers: [awsecscontainermetrics]\\n          processors: [filter, metricstransform]\\n          exporters: [awsemf]\\n\")), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"available-metrics\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#available-metrics\",\n    \"aria-label\": \"available metrics permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Available Metrics\"), mdx(\"p\", null, \"The following table lists all metrics emitted by AWS ECS container metrics receiver.\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Task Level Metrics\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Container Level Metrics\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Unit\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.memory.usage\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.memory.usage\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Bytes\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.memory.usage.max\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.memory.usage.max\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Bytes\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.memory.usage.limit\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.memory.usage.limit\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Bytes\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.memory.reserved\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.memory.reserved\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Megabytes\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.memory.utilized\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.memory.utilized\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Megabytes\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  })), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.cpu.usage.total\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.cpu.usage.total\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Nanoseconds\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.cpu.usage.kernelmode\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.cpu.usage.kernelmode\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Nanoseconds\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.cpu.usage.usermode\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.cpu.usage.usermode\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Nanoseconds\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.cpu.usage.system\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.cpu.usage.system\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Nanoseconds\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.cpu.usage.vcpu\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.cpu.usage.vcpu\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"vCPU\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.cpu.cores\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.cpu.cores\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Count\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.cpu.onlines\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.cpu.onlines\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Count\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.cpu.reserved\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.cpu.reserved\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"vCPU\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.cpu.utilized\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.cpu.utilized\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Percent\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  })), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.network.rate.rx\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.network.rate.rx\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Bytes/Second\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.network.rate.tx\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.network.rate.tx\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Bytes/Second\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.network.io.usage.rx\", \"_\", \"bytes\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.network.io.usage.rx\", \"_\", \"bytes\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Bytes\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.network.io.usage.rx\", \"_\", \"packets\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.network.io.usage.rx\", \"_\", \"packets\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Count\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.network.io.usage.rx\", \"_\", \"errors\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.network.io.usage.rx\", \"_\", \"errors\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Count\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.network.io.usage.rx\", \"_\", \"dropped\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.network.io.usage.rx\", \"_\", \"dropped\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Count\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.network.io.usage.tx\", \"_\", \"bytes\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.network.io.usage.tx\", \"_\", \"bytes\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Bytes\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.network.io.usage.tx\", \"_\", \"packets\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.network.io.usage.tx\", \"_\", \"packets\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Count\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.network.io.usage.tx\", \"_\", \"errors\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.network.io.usage.tx\", \"_\", \"errors\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Count\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.network.io.usage.tx\", \"_\", \"dropped\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.network.io.usage.tx\", \"_\", \"dropped\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Count\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  })), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.storage.read\", \"_\", \"bytes\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.storage.read\", \"_\", \"bytes\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Bytes\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ecs.task.storage.write\", \"_\", \"bytes\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.storage.write\", \"_\", \"bytes\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Bytes\")))), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"resource-attributes-and-metrics-labels\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#resource-attributes-and-metrics-labels\",\n    \"aria-label\": \"resource attributes and metrics labels permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Resource Attributes and Metrics Labels\"), mdx(\"p\", null, \"Metrics emitted by this receiver comes with a set of resource attributes. These resource attributes can be converted to\\nmetrics labels using appropriate processors/exporters (See \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#full-configuration-for-task-level-metrics\"\n  }, \"Full Configuration\"), \" section below). These metrics\\nlabels can be set as metrics dimensions while exporting to desired destinations. Check the following table to see\\navailable resource attributes for Task and Container level metrics. Container level metrics have seven additional\\nattributes than task level metrics.\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Resource Attributes for Task Level Metrics\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Resource Attributes for Container Level Metrics\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.cluster.name\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.cluster.name\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.task.family\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.task.family\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.task.arn\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.task.arn\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.task.id\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.task.id\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.task.version\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.task.version\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.service.name\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.service.name\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"cloud.zone\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"cloud.zone\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"cloud.account.id\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"cloud.account.id\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"cloud.region\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"cloud.region\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.task.pull_started_at\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.task.pull_started_at\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.task.pull_stopped_at\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.container.finished_at\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.task.known_status\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.container.know_status\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.task.launch_type\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.task.launch_type\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.container.created_at\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.name\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.id\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.docker.name\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"container.image.tag\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.container.image.id\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws.ecs.container.exit_code\")))), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Note:\"), \" Please do not contains more than 9 dimension keys in the dimension set. \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/CloudWatch_Embedded_Metric_Format_Specification.html#CloudWatch_Embedded_Metric_Format_Specification_structure_dimensionset\"\n  }, \"See cloudwatch docs for more information\")), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"full-configuration-for-task-level-metrics\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#full-configuration-for-task-level-metrics\",\n    \"aria-label\": \"full configuration for task level metrics permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Full configuration for task level metrics\"), mdx(\"p\", null, \"The following example shows a full configuration to get most useful task level metrics. It uses \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"awsecscontainermetrics\"), \"\\nreceiver to collect all the resource usage metrics from ECS task metadata endpoint. It applies \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"filter\"), \" processor to\\nselect only 8 task-level metrics and update metric names using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"metricstransform\"), \" processor. It also renames the resource\\nattributes using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"resource\"), \" processor which will be used as metric dimensions in the Amazon CloudWatch \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"awsemf\"), \" exporter.\\nFinally, it sends the metrics to CloudWatch using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"awsemf\"), \" exporter under the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/aws/ecs/containerinsights/{ClusterName}/performance\"), \" namespace\\nwhere the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"{ClusterName}\"), \" placeholder will be replaced with actual cluster name. Check the\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://aws-otel.github.io/docs/getting-started/cloudwatch-metrics\"\n  }, \"AWS EMF Exporter\"), \" documentation to see and\\nexplore the metrics in Amazon CloudWatch.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Note:\"), \" AWS Distro for OpenTelemetry Collector has a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/aws-observability/aws-otel-collector/blob/main/config/ecs/container-insights/otel-task-metrics-config.yaml\"\n  }, \"default configuration\"), \"\\nbacked into it for Container Insights experience which is smiliar to this one. Follow our \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://aws-otel.github.io/docs/setup/ecs\"\n  }, \"setup doc\"), \" to check how to use that default config.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\",\n    \"metastring\": \"lineNumbers=true\",\n    \"lineNumbers\": \"true\"\n  }, \"receivers:\\n  awsecscontainermetrics: # collect 52 metrics\\n\\nprocessors:\\n  filter: # filter metrics\\n    metrics:\\n      include:\\n        match_type: strict\\n        metric_names: # select only 8 task level metrics out of 52\\n          - ecs.task.memory.reserved\\n          - ecs.task.memory.utilized\\n          - ecs.task.cpu.reserved\\n          - ecs.task.cpu.utilized\\n          - ecs.task.network.rate.rx\\n          - ecs.task.network.rate.tx\\n          - ecs.task.storage.read_bytes\\n          - ecs.task.storage.write_bytes\\n  metricstransform: # update metric names\\n    transforms:\\n      - metric_name: ecs.task.memory.utilized\\n        action: update\\n        new_name: MemoryUtilized\\n      - metric_name: ecs.task.memory.reserved\\n        action: update\\n        new_name: MemoryReserved\\n      - metric_name: ecs.task.cpu.utilized\\n        action: update\\n        new_name: CpuUtilized\\n      - metric_name: ecs.task.cpu.reserved\\n        action: update\\n        new_name: CpuReserved\\n      - metric_name: ecs.task.network.rate.rx\\n        action: update\\n        new_name: NetworkRxBytes\\n      - metric_name: ecs.task.network.rate.tx\\n        action: update\\n        new_name: NetworkTxBytes\\n      - metric_name: ecs.task.storage.read_bytes\\n        action: update\\n        new_name: StorageReadBytes\\n      - metric_name: ecs.task.storage.write_bytes\\n        action: update\\n        new_name: StorageWriteBytes\\n  resource:\\n    attributes: # rename resource attributes which will be used as dimensions\\n      - key: ClusterName\\n        from_attribute: aws.ecs.cluster.name\\n        action: insert\\n      - key: aws.ecs.cluster.name\\n        action: delete\\n      - key: ServiceName\\n        from_attribute: aws.ecs.service.name\\n        action: insert\\n      - key: aws.ecs.service.name\\n        action: delete\\n      - key: TaskId\\n        from_attribute: aws.ecs.task.id\\n        action: insert\\n      - key: aws.ecs.task.id\\n        action: delete\\n      - key: TaskDefinitionFamily\\n        from_attribute: aws.ecs.task.family\\n        action: insert\\n      - key: aws.ecs.task.family\\n        action: delete\\nexporters:\\n  awsemf:\\n    namespace: ECS/ContainerInsights\\n    log_group_name: '/aws/ecs/containerinsights/{ClusterName}/performance'\\n    log_stream_name: '{TaskId}'  # TaskId placeholder will be replaced with actual value\\n    resource_to_telemetry_conversion:\\n      enabled: true\\n    dimension_rollup_option: NoDimensionRollup\\n    metric_declarations:\\n      dimensions: [ [ ClusterName ], [ ClusterName, TaskDefinitionFamily ] ]\\n      metric_name_selectors: [ . ]\\nservice:\\n  pipelines:\\n    metrics:\\n      receivers: [awsecscontainermetrics ]\\n      processors: [filter, metricstransform, resource]\\n      exporters: [ awsemf ]\\n\")), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"full-configuration-for-task--and-container-level-metrics\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#full-configuration-for-task--and-container-level-metrics\",\n    \"aria-label\": \"full configuration for task  and container level metrics permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Full configuration for task- and container-level metrics\"), mdx(\"p\", null, \"The following example shows a full configuration to get most useful task- and container-level metrics. It uses \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"awsecscontainermetrics\"), \"\\nreceiver to collect all the resource usage metrics from ECS task metadata endpoint. It applies \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"filter\"), \" processor to\\nselect only 8 task- and container-level metrics and update metric names using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"metricstransform\"), \" processor. It also renames the resource\\nattributes using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"resource\"), \" processor which will be used as metric dimensions in the Amazon CloudWatch \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"awsemf\"), \" exporter.\\nFinally, it sends the metrics to CloudWatch using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"awsemf\"), \" exporter under the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/aws/ecs/containerinsights/{ClusterName}/performance\"), \" namespace\\nwhere the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"{ClusterName}\"), \" placeholder will be replaced with actual cluster name. Check the\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://aws-otel.github.io/docs/getting-started/cloudwatch-metrics\"\n  }, \"AWS EMF Exporter\"), \" documentation to see and\\nexplore the metrics in Amazon CloudWatch.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\",\n    \"metastring\": \"lineNumbers=true\",\n    \"lineNumbers\": \"true\"\n  }, \"receivers:\\n    awsecscontainermetrics:\\n\\nprocessors:\\n    filter:\\n        metrics:\\n            include:\\n                match_type: regexp\\n                metric_names:\\n                    - .*memory.reserved\\n                    - .*memory.utilized\\n                    - .*cpu.reserved\\n                    - .*cpu.utilized\\n                    - .*network.rate.rx\\n                    - .*network.rate.tx\\n                    - .*storage.read_bytes\\n                    - .*storage.write_bytes\\n    metricstransform:\\n        transforms:\\n            - metric_name: ecs.task.memory.utilized\\n              action: update\\n              new_name: MemoryUtilized\\n            - metric_name: ecs.task.memory.reserved\\n              action: update\\n              new_name: MemoryReserved\\n            - metric_name: ecs.task.cpu.utilized\\n              action: update\\n              new_name: CpuUtilized\\n            - metric_name: ecs.task.cpu.reserved\\n              action: update\\n              new_name: CpuReserved\\n            - metric_name: ecs.task.network.rate.rx\\n              action: update\\n              new_name: NetworkRxBytes\\n            - metric_name: ecs.task.network.rate.tx\\n              action: update\\n              new_name: NetworkTxBytes\\n            - metric_name: ecs.task.storage.read_bytes\\n              action: update\\n              new_name: StorageReadBytes\\n            - metric_name: ecs.task.storage.write_bytes\\n              action: update\\n              new_name: StorageWriteBytes\\n    resource:\\n        attributes:\\n            - key: ClusterName\\n              from_attribute: aws.ecs.cluster.name\\n              action: insert\\n            - key: aws.ecs.cluster.name\\n              action: delete\\n            - key: ServiceName\\n              from_attribute: aws.ecs.service.name\\n              action: insert\\n            - key: aws.ecs.service.name\\n              action: delete\\n            - key: TaskId\\n              from_attribute: aws.ecs.task.id\\n              action: insert\\n            - key: aws.ecs.task.id\\n              action: delete\\n            - key: TaskDefinitionFamily\\n              from_attribute: aws.ecs.task.family\\n              action: insert\\n            - key: aws.ecs.task.family\\n              action: delete\\n            - key: ContainerName\\n              from_attribute: container.name\\n              action: insert\\n            - key: container.name\\n              action: delete                  \\nexporters:\\n    awsemf:\\n        namespace: ECS/ContainerInsights\\n        log_group_name:  '/aws/ecs/containerinsights/{ClusterName}/performance'\\n        log_stream_name: '{TaskId}'\\n        resource_to_telemetry_conversion:\\n            enabled: true\\n        dimension_rollup_option: NoDimensionRollup\\n        metric_declarations:\\n            - dimensions: [[ClusterName], [ClusterName, TaskDefinitionFamily]]\\n              metric_name_selectors: \\n                - MemoryUtilized \\n                - MemoryReserved \\n                - CpuUtilized\\n                - CpuReserved\\n                - NetworkRxBytes\\n                - NetworkTxBytes\\n                - StorageReadBytes\\n                - StorageWriteBytes\\n            - dimensions: [[ClusterName], [ClusterName, TaskDefinitionFamily, ContainerName]]\\n              metric_name_selectors: [container.*]\\n     \\nservice:\\n    pipelines:\\n        metrics:\\n            receivers: [awsecscontainermetrics]\\n            processors: [filter, metricstransform, resource]\\n            exporters: [awsemf]\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","headings":[{"depth":2,"value":"Enabling the AWS ECS Container Metrics Receiver"},{"depth":2,"value":"Set Metrics Collection Interval"},{"depth":2,"value":"Collect specific metrics and update metric names"},{"depth":2,"value":"Available Metrics"},{"depth":2,"value":"Resource Attributes and Metrics Labels"},{"depth":2,"value":"Full configuration for task level metrics"},{"depth":2,"value":"Full configuration for task- and container-level metrics"}]}},"pageContext":{"slug":"/docs/components/ecs-metrics-receiver/","repositoryEditUrl":"https://github.com/rocketseat/gatsby-themes/tree/main/examples/gatsby-theme-docs/src/docs/components/ecs-metrics-receiver.mdx","repositoryProvider":"GitHub"}},
    "staticQueryHashes": ["2501019404","973074209"]}