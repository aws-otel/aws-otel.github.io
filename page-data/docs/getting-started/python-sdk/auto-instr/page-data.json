{
    "componentChunkName": "component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-docs-query-js",
    "path": "/docs/getting-started/python-sdk/auto-instr",
    "result": {"data":{"mdx":{"id":"4b266f2b-8d99-53e7-ae0b-a84d34f08573","excerpt":"Introduction OpenTelemetry Python supports automatic instrumentation. It automatically produces spans with telemetry data describing the values used by theâ€¦","fields":{"slug":"/docs/getting-started/python-sdk/auto-instr/"},"frontmatter":{"title":"Tracing and Metrics with the AWS Distro for OpenTelemetry Python Auto-Instrumentation","description":"OpenTelemetry provides different language SDKs to instrument code for collecting telemetry data in the application. In this tutorial, we will introduce how to use OpenTelemetry Python SDK for traces and metrics instrumentation in the application...","image":null,"disableTableOfContents":null},"body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"Tracing and Metrics with the AWS Distro for OpenTelemetry Python Auto-Instrumentation\",\n  \"description\": \"OpenTelemetry provides different language SDKs to instrument code for collecting telemetry data in the application. In this tutorial, we will introduce how to use OpenTelemetry Python SDK for traces and metrics instrumentation in the application...\",\n  \"path\": \"/docs/getting-started/python-sdk/auto-instr\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", {\n    \"id\": \"introduction\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#introduction\",\n    \"aria-label\": \"introduction permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Introduction\"), mdx(\"p\", null, \"OpenTelemetry Python supports automatic instrumentation. It automatically produces spans with telemetry data describing the values used by the Python frameworks in your application without adding a single line of code. It is preconfigured for compatibility with AWS X-Ray and propagates the trace context across AWS services, it can also be used with any other tracing backend.\"), mdx(\"p\", null, \"In this guide, we walk through the steps needed to trace an application and produce metrics with auto-instrumentation.\"), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"requirements\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#requirements\",\n    \"aria-label\": \"requirements permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Requirements\"), mdx(\"p\", null, \"Python versions 3.9 to 3.13 are required to run an application using OpenTelemetry.\"), mdx(\"p\", null, \"Note: You\\u2019ll also need to have the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://aws-otel.github.io/docs/getting-started/collector\"\n  }, \"ADOT Collector\"), \" running to export traces and metrics.\"), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"installation\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#installation\",\n    \"aria-label\": \"installation permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Installation\"), mdx(\"p\", null, \"The easiest way to download the packages needed for auto-instrumentation is using pip:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ pip install aws-opentelemetry-distro\\n\")), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"aws-opentelemetry-distro\"), \" package provides methods which configure the OpenTelemetry SDK with some basic defaults. These methods are used by Auto Instrumentation. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Instrumentors\"), \" , \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"opentelemetry-api\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"opentelemetry-sdk\"), \", and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"opentelemetry-instrumentation\"), \" dependency packages are installed by default along with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"aws-opentelemetry-distro\"), \". And \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"opentelemetry-instrumentation\"), \" provides commands to detect, install, and initialize all instrumentation packages supported for your application\\u2019s dependencies. Notably, it installs the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"opentelemetry-instrument\"), \" executables on your system. Check out the OpenTelemetry registry for a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://opentelemetry.io/registry/?s=&component=instrumentation&language=python\"\n  }, \"full list of instrumentation packages provided by OpenTelemetry Python\"), \".\"), mdx(\"h2\", {\n    \"id\": \"running-an-application-with-auto-instrumentation\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#running-an-application-with-auto-instrumentation\",\n    \"aria-label\": \"running an application with auto instrumentation permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Running an Application with Auto-Instrumentation\"), mdx(\"p\", null, \"Auto-instrumentation uses the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"opentelemetry-instrument\"), \" executable functions as a wrapper to automatically initialize the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Instrumentors\"), \" and start the provided application.\"), mdx(\"p\", null, \"The AWS Distro is configured using two environment variables as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"OTEL_PYTHON_DISTRO=\\\"aws_distro\\\"\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"OTEL_PYTHON_CONFIGURATOR=\\\"aws_configurator\\\"\"), \".\"), mdx(\"p\", null, \"Start your application using auto-instrumentation can be as simple as the following:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ OTEL_PYTHON_DISTRO=\\\"aws_distro\\\" \\\\\\nOTEL_PYTHON_CONFIGURATOR=\\\"aws_configurator\\\" \\\\\\nopentelemetry-instrument python3 ./path/to/your/app.py\\n\")), mdx(\"h3\", {\n    \"id\": \"configuring-auto-instrumentation\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#configuring-auto-instrumentation\",\n    \"aria-label\": \"configuring auto instrumentation permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Configuring Auto-Instrumentation\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Note:\"), \" Skip this part if you are onboarding with CloudWatch Application Signals.\"), mdx(\"p\", null, \"Environment variables are the primary way in which the OpenTelemetry SDK for Python is configured. For example:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"By default, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"aws-opentelemetry-distro\"), \" uses the OTLP exporter and is configured to send data to a OpenTelemetry collector at \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http://localhost:4317\"), \" for both metrics and traces. The configuration of your SDK exporter depends on how you have configured your ADOT Collector. To learn more about how the ADOT Collector can be configured, refer to the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://aws-otel.github.io/docs/getting-started/collector\"\n  }, \"ADOT Collector Documentation\"), \".\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"If the Collector the application will connect to is running with TLS configured, the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"OTEL_EXPORTER_OTLP_CERTIFICATE=/path/to/my-cert.crt\"), \" environment variable is used to provide a path to credentials to be used to establish a secure connection for the app\\u2019s exporter. The credentials at this path should be the public certificate of the collector, or one of its root certificates. If no certificate is found, the gRPC method \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ssl_channel_credentials()\"), \" will attempt to \\u201Cretrieve the PEM-encoded root certificates from a default location chosen by gRPC runtime\\u201D as explained in the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://grpc.github.io/grpc/python/grpc.html?highlight=ssl_channel_credentials\"\n  }, \"gRPC Python Documentation\"), \".\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"The random sampling rate for creating traces can be set through the environment variables \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"OTEL_TRACES_SAMPLER=parentbased_traceidratio\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"OTEL_TRACES_SAMPLER_ARG=0.3\"), \" to configure a sampling rate of 30%. Sampling related configuration can be found in \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://opentelemetry-python.readthedocs.io/en/latest/sdk/trace.sampling.html\"\n  }, \"opentelemetry.sdk.trace.sampling submodule public doc\"), \".\"))), mdx(\"p\", null, \"More SDK configuration can be found in upstream \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://opentelemetry.io/docs/languages/sdk-configuration/\"\n  }, \"opentelemetry SDK config public doc\"), \".\"), mdx(\"h3\", {\n    \"id\": \"using-cloudwatch-application-signals\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#using-cloudwatch-application-signals\",\n    \"aria-label\": \"using cloudwatch application signals permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Using CloudWatch Application Signals\"), mdx(\"p\", null, \"You can use CloudWatch Application Signals to automatically instrument your applications on AWS using ADOT python auto-instrumentation so that you can monitor current application health and track long-term application performance against your business objectives. Application Signals provides you with a unified, application-centric view of your applications, services, and dependencies, and helps you monitor and triage application health.\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/CloudWatch-Application-Monitoring-Sections.html\"\n  }, \"Get started with CloudWatch Application Signals\")), mdx(\"h3\", {\n    \"id\": \"using-x-ray-remote-sampling\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#using-x-ray-remote-sampling\",\n    \"aria-label\": \"using x ray remote sampling permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Using X-Ray Remote Sampling\"), mdx(\"p\", null, \"The ADOT Python Auto-Instrumentation can be configured to use \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.aws.amazon.com/xray/latest/devguide/xray-console-sampling.html\"\n  }, \"X-Ray remote sampling\"), \"\\nby setting the environment variable \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"OTEL_TRACES_SAMPLER=xray\"), \". You will also need to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/docs/getting-started/remote-sampling\"\n  }, \"configure the OpenTelemetry collector\"), \"\\nto allow the application to fetch sampling configuration. \"), mdx(\"p\", null, \"You can further configure the Sampler by setting the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"OTEL_TRACES_SAMPLER_ARG\"), \" environment variable. You can update the endpoint and the polling rate as follows:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"OTEL_TRACES_SAMPLER_ARG=endpoint=<ENDPOINT>,polling_interval=<INTERVAL_IN_SECS>\\n\")), mdx(\"p\", null, \"By default the sampler sends requests to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http://localhost:2000\"), \" and has a polling rate of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"300 seconds\"), \". By setting \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"OTEL_TRACES_SAMPLER_ARG\"), \"\\nenvironment variable you can change the endpoint the sampler talks with when getting sampling configuration from AWS X-Ray Console. For example setting\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"OTEL_TRACES_SAMPLER_ARG=endpoint=http://localhost:4000,polling_interval=60\"), \" would configure the sampler to communicate with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http://localhost:4000\"), \" and poll the sampling rules every \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"60 seconds\"), \".\"), mdx(\"h3\", {\n    \"id\": \"using-code-attributes\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#using-code-attributes\",\n    \"aria-label\": \"using code attributes permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Using Code Attributes\"), mdx(\"p\", null, \"Code attributes is an experimental feature that automatically captures source code context information when trace data is generated. This feature enhances observability by providing precise code-level details that help developers quickly identify and debug issues.\"), mdx(\"p\", null, \"Code attributes capture:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Source file path\"), \" - The absolute path of the source file where the telemetry originated\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Function name\"), \" - The method or function fully-qualified name, including class/namespace context when applicable (e.g., \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"com.example.MyService.processRequest\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"MyClass.my_method\"), \")\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Line numbers\"), \" - Precise code location for pinpoint debugging\")), mdx(\"p\", null, \"To enable code attributes, set the following environment variable:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"export OTEL_AWS_EXPERIMENTAL_CODE_ATTRIBUTES=true\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\u26A0\\uFE0F Note: This is an experimental feature and its behavior may change in future releases.\")), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"using-manual-instrumentation\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#using-manual-instrumentation\",\n    \"aria-label\": \"using manual instrumentation permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Using Manual Instrumentation\"), mdx(\"p\", null, \"Because there can only be one global \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"TracerProvider\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MeterProvider\"), \", manual instrumentation should not instantiate its own \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"TracerProvider\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MeterProvider\"), \" if used together alongside auto-instrumentation. Given that the same \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"TracerProvider\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MeterProvider\"), \" is used, custom tracing and metrics works the same way when using automatic instrumentation or manual instrumentation. For information about custom trace instrumentation, see our \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/docs/getting-started/python-sdk/manual-instr\"\n  }, \"docs on manual instrumentation\"), \".\"), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"sample-application\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#sample-application\",\n    \"aria-label\": \"sample application permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Sample Application\"), mdx(\"p\", null, \"See a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/aws-observability/aws-otel-community/tree/master/sample-apps/python-auto-instrumentation-sample-app\"\n  }, \"Sample App using OpenTelemetry Python SDK Automatic Instrumentation\"), \".\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"NOTE:\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Python Web Frameworks like Flask and Django normally include a \\\"reloader\\\" when running in \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"debug\"), \" mode so that you can apply changes during development. This reloader will break auto-instrumentation because the app is restarted without giving OpenTelemetry a chance to wrap the instrumented libraries. When using \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"debug\"), \" mode, set the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"use_reloader=False\"), \" as is done in the referenced sample app:\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-python\"\n  }, \"# See more: https://github.com/open-telemetry/opentelemetry-python-contrib/issues/546\\nif __name__ == \\\"__main__\\\":\\n    app.run(port=8082, debug=True, use_reloader=False)\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"For Django applications, there are a few things that customer needs to be aware of when enabling ADOT Python auto-instrumentation. Some of them are called out in \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://opentelemetry-python.readthedocs.io/en/latest/examples/django/README.html\"\n  }, \"OTel Python Django Instrumentation doc\"), \":\", mdx(\"ol\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Use \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"--noreload\"), \" when running the Django application.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Set the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"DJANGO_SETTINGS_MODULE\"), \" environment variable to the location of your Django application\\u2019s \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"settings.py\"), \" file.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"When running a Django application in a container, set the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"PYTHONPATH\"), \" environment variable to the location of your application\\u2019s working directory. Note that this is not called out in the OTel Python doc but is \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://github.com/open-telemetry/opentelemetry-operator/issues/2302\"\n  }, \"a known issue in Otel\"), \".\")))));\n}\n;\nMDXContent.isMDXComponent = true;","headings":[{"depth":2,"value":"Introduction"},{"depth":2,"value":"Requirements"},{"depth":2,"value":"Installation"},{"depth":2,"value":"Running an Application with Auto-Instrumentation"},{"depth":3,"value":"Configuring Auto-Instrumentation"},{"depth":3,"value":"Using CloudWatch Application Signals"},{"depth":3,"value":"Using X-Ray Remote Sampling"},{"depth":3,"value":"Using Code Attributes"},{"depth":2,"value":"Using Manual Instrumentation"},{"depth":2,"value":"Sample Application"}]}},"pageContext":{"slug":"/docs/getting-started/python-sdk/auto-instr/","repositoryEditUrl":"https://github.com/rocketseat/gatsby-themes/tree/main/examples/gatsby-theme-docs/src/docs/getting-started/python-sdk/auto-instr.mdx","repositoryProvider":"GitHub"}},
    "staticQueryHashes": ["2501019404","973074209"]}