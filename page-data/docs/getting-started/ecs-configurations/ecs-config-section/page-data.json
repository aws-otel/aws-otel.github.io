{
    "componentChunkName": "component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-docs-query-js",
    "path": "/docs/getting-started/ecs-configurations/ecs-config-section",
    "result": {"data":{"mdx":{"id":"ec09264f-5b06-5afb-aa06-f058def1e40b","excerpt":"We have 5 different configurations that you can select from, depending on your monitoring service destination. See below for details. AMP Configurations forâ€¦","fields":{"slug":"/docs/getting-started/ecs-configurations/ecs-config-section/"},"frontmatter":{"title":"Understanding your Configurations","description":"In this guide, we'll be explaining the types of services each of the configuration utilizes and the code block of the configurations.","image":null,"disableTableOfContents":null},"body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"Understanding your Configurations\",\n  \"description\": \"In this guide, we'll be explaining the types of services each of the configuration utilizes and the code block of the configurations.\",\n  \"path\": \"/docs/getting-started/ecs-configurations/ecs-config-section\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"We have 5 different configurations that you can select from, depending on your monitoring service destination. See below for details.\"), mdx(\"h2\", {\n    \"id\": \"amp-configurations-for-metrics\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#amp-configurations-for-metrics\",\n    \"aria-label\": \"amp configurations for metrics permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"AMP Configurations for metrics\"), mdx(\"p\", null, \"Amazon Managed Services for Prometheus (AMP) allows us to easily establish both monitoring and alerting services for container environments on EKS, ECS, Lambda, and many other AWS services. Specifically, AMP collects metrics in the form of time series data from containers & nodes and stores them. Metrics information is stored with the timestamp at which it was recorded and can contain many forms of data that the user chooses to include such as spans, query duration, etc. \"), mdx(\"p\", null, \"Here is a list of metrics that we can collect using the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/aws-observability/aws-otel-java-instrumentation/tree/main/sample-apps/springboot\"\n  }, \"java-sample-app\"), \" and AMP configuration.\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Metrics\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Definition\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"http_server_active_requests\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"HTTP requests are messages sent by the client to initiate an action on the server\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"http_server_duration_count\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"The average amount of time it takes for a queried metric to deliver\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"queuesize\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Size of HTTP queue  requests that provides time for new connections to become available on the server,\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"runtime_jvm_gc_count\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Java virtual machine runtime metrics\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"runtime_jvm_gc_time\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Java virtual machine runtime metrics\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"runtime_jvm_memory_area\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Java virtual machine runtime metrics\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"runtime_jvm_memory_pool\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Java virtual machine runtime metrics\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"spansExportedByExporter\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Number of spans that are exported by the exporter\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"spansSeenByExporter\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Number of spans that are seen by the exporter\")))), mdx(\"h3\", {\n    \"id\": \"configuring-dimensions\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#configuring-dimensions\",\n    \"aria-label\": \"configuring dimensions permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Configuring dimensions\"), mdx(\"p\", null, \"While visualizing the Amazon Managed Services for Prometheus (AMP) metrics in Amazon Managed Services for Grafana (AMG), you can query and select a metric using the metric browser. When deploying your configuration, you will have multiple metrics coming from different tasks and clusters. As a result, you can use the following dimensions in your query to identify and analyze the metrics related to specific task or cluster. Below are are the possible dimensions with a description of what each dimension mean.\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Metric Dimension\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Definition\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws_ecs_cluster_name\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ECS Cluster Name\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws_ecs_service_name\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ECS Service Name\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws_ecs_task_arn\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Task ARN ID\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws_ecs_task_family\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Task Family name\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws_ecs_task_id\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Task ID\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws_ecs_task_known_status\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ECS Task Status\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws_ecs_task_launch_type\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ECS Task launch type\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"aws_ecs_task_version\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"ECS Task family revision number\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"cloud_account_id\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"AWS Account ID\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"cloud_availability_zone\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"AWS Availability Zone\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"cloud_region\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"AWS region\")))), mdx(\"p\", null, \"Below is an example of a configuration which utilizes ECS and AMP to output metrics for you to visualize on a service such as AMG.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"https://github.com/aws-observability/aws-otel-collector/blob/main/config/ecs/ecs-amp.yaml\"\n  }, \"ecs-amp.yaml\"))), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\",\n    \"metastring\": \"lineNumbers=true\",\n    \"lineNumbers\": \"true\"\n  }, \"extensions:\\n  health_check:\\n  sigv4auth:\\n\\nreceivers:\\n  otlp:\\n    protocols:\\n      grpc:\\n        endpoint: 0.0.0.0:4317\\n      http:\\n        endpoint: 0.0.0.0:4318\\n  awsecscontainermetrics:\\n\\nprocessors:\\n  batch/metrics:\\n    timeout: 60s\\n  resourcedetection:\\n    detectors:\\n      - env\\n      - system\\n      - ecs\\n      - ec2\\n  filter:\\n    metrics:\\n      include:\\n        match_type: strict\\n        metric_names:\\n          - ecs.task.memory.reserved\\n          - ecs.task.memory.utilized\\n          - ecs.task.cpu.reserved\\n          - ecs.task.cpu.utilized\\n          - ecs.task.network.rate.rx\\n          - ecs.task.network.rate.tx\\n          - ecs.task.storage.read_bytes\\n          - ecs.task.storage.write_bytes\\n          - container.duration\\n\\nexporters:\\n  prometheusremotewrite:\\n    endpoint: $AWS_PROMETHEUS_ENDPOINT\\n    auth:\\n      authenticator: sigv4auth\\n    resource_to_telemetry_conversion:\\n      enabled: true\\n\\nservice:\\n  pipelines:\\n    metrics/application:\\n      receivers: [otlp]\\n      processors: [resourcedetection, batch/metrics]\\n      exporters: [prometheusremotewrite]\\n    metrics:\\n      receivers: [awsecscontainermetrics]\\n      processors: [filter]\\n      exporters: [prometheusremotewrite]\\n\\n  extensions: [health_check, sigv4auth]\\n\")), mdx(\"h2\", {\n    \"id\": \"amazon-cloudwatch-configuration-for-application-metrics\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#amazon-cloudwatch-configuration-for-application-metrics\",\n    \"aria-label\": \"amazon cloudwatch configuration for application metrics permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Amazon CloudWatch Configuration for Application metrics\"), mdx(\"p\", null, \"Amazon CloudWatch collects and processes raw data from Amazon ECS into readable, near real-time metrics. It receives time-series metrics and trace data in real time. Our receiver generates data points and Amazon CloudWatch presents this data within the Amazon CloudWatch console. With Amazon CloudWatch, we able to display more data points for you to observe, one sample count in Amazon CloudWatch is the aggregate of multiple data points in one minute.\"), mdx(\"p\", null, \"Here is a list of metrics that you can receive from your exporter by using the java-sample-app and Amazon CloudWatch Configuration.\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Metrics\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Definition\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"http_server_active_requests\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"HTTP requests are messages sent by the client to initiate an action on the server\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"http_server_duration_count\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"The average amount of time it takes for a queried metric to deliver\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"queuesize\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Size of HTTP queue  requests that provides time for new connections to become available on the server,\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"runtime_jvm_gc_count\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Java virtual machine runtime metrics\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"runtime_jvm_gc_time\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Java virtual machine runtime metrics\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"runtime_jvm_memory_area\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Java virtual machine runtime metrics\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"runtime_jvm_memory_pool\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Java virtual machine runtime metrics\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"spansExportedByExporter\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Number of spans that are exported by the exporter\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"spansSeenByExporter\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Number of spans that are seen by the exporter\")))), mdx(\"p\", null, \"Below is an example of a configuration which utilizes ECS and Amazon CloudWatch.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"https://github.com/aws-observability/aws-otel-collector/blob/main/config/ecs/ecs-cloudwatch.yaml\"\n  }, \"ecs-cloudwatch.yaml\"))), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\",\n    \"metastring\": \"lineNumbers=true\",\n    \"lineNumbers\": \"true\"\n  }, \"extensions:\\n  health_check:\\n\\nreceivers:\\n  otlp:\\n    protocols:\\n      grpc:\\n        endpoint: 0.0.0.0:4317\\n      http:\\n        endpoint: 0.0.0.0:4318\\n\\nprocessors:\\n  batch/metrics:\\n    timeout: 60s\\n  resourcedetection:\\n    detectors:\\n      - env\\n      - ecs\\n      - ec2\\n  resource:\\n    attributes:\\n      - key: TaskDefinitionFamily\\n        from_attribute: aws.ecs.task.family\\n        action: insert\\n      - key: aws.ecs.task.family\\n        action: delete\\n      - key: InstanceId\\n        from_attribute: host.id\\n        action: insert\\n      - key: host.id\\n        action: delete\\n      - key: TaskARN\\n        from_attribute: aws.ecs.task.arn\\n        action: insert\\n      - key: aws.ecs.task.arn\\n        action: delete\\n      - key: TaskDefinitionRevision\\n        from_attribute: aws.ecs.task.revision\\n        action: insert\\n      - key: aws.ecs.task.revision\\n        action: delete\\n      - key: LaunchType\\n        from_attribute: aws.ecs.launchtype\\n        action: insert\\n      - key: aws.ecs.launchtype\\n        action: delete\\n      - key: ClusterARN\\n        from_attribute: aws.ecs.cluster.arn\\n        action: insert\\n      - key: aws.ecs.cluster.arn\\n        action: delete\\n      - key: cloud.provider\\n        action: delete\\n      - key: cloud.platform\\n        action: delete\\n      - key: cloud.account.id\\n        action: delete\\n      - key: cloud.region\\n        action: delete\\n      - key: cloud.availability_zone\\n        action: delete\\n      - key: aws.log.group.names\\n        action: delete\\n      - key: aws.log.group.arns\\n        action: delete\\n      - key: aws.log.stream.names\\n        action: delete\\n      - key: host.image.id\\n        action: delete\\n      - key: host.name\\n        action: delete\\n      - key: host.type\\n        action: delete\\n\\nexporters:\\n  awsemf/application:\\n    namespace: ECS/AWSOTel/Application\\n    log_group_name: '/aws/ecs/application/metrics'\\n    dimension_rollup_option: NoDimensionRollup\\n    resource_to_telemetry_conversion:\\n      enabled: true\\n\\nservice:\\n  pipelines:\\n    metrics/application:\\n      receivers: [otlp]\\n      processors: [resourcedetection, resource, batch/metrics]\\n      exporters: [awsemf/application]\\n\\n  extensions: [health_check]\\n\")), mdx(\"h2\", {\n    \"id\": \"x-ray-configuration-for-traces\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#x-ray-configuration-for-traces\",\n    \"aria-label\": \"x ray configuration for traces permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"X-Ray Configuration for traces\"), mdx(\"p\", null, \"AWS X-Ray helps developers analyze and debug production, distributed applications, such as those built using a microservices architecture. With X-Ray, you can understand how your application and its underlying services are performing to identify and troubleshoot the root cause of performance issues and errors.\"), mdx(\"p\", null, \"Using the X-Ray configuration, you can monitor application traces including the performance of API calls to other components or services. For any trace request to your application, you can see detailed information from not only the request and response, but also calls that your application makes to downstream AWS resources, micro-services, databases and HTTP web APIs.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"https://github.com/aws-observability/aws-otel-collector/blob/main/config/ecs/ecs-xray.yaml\"\n  }, \"ecs-xray.yaml\"))), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\",\n    \"metastring\": \"lineNumbers=true\",\n    \"lineNumbers\": \"true\"\n  }, \"extensions:\\n  health_check:\\n\\nreceivers:\\n  otlp:\\n    protocols:\\n      grpc:\\n        endpoint: 0.0.0.0:4317\\n      http:\\n        endpoint: 0.0.0.0:4318\\n\\nprocessors:\\n  batch/traces:\\n    timeout: 1s\\n    send_batch_size: 50\\n  resourcedetection:\\n    detectors:\\n      - env\\n      - system\\n      - ecs\\n      - ec2\\n\\nexporters:\\n  awsxray:\\n\\nservice:\\n  pipelines:\\n    traces:\\n      receivers: [otlp]\\n      processors: [resourcedetection, batch/traces]\\n      exporters: [awsxray]\\n\\n  extensions: [health_check]\\n\")), mdx(\"h2\", {\n    \"id\": \"amazon-cloudwatch-and-x-ray-configuration-for-metrics-and-traces\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#amazon-cloudwatch-and-x-ray-configuration-for-metrics-and-traces\",\n    \"aria-label\": \"amazon cloudwatch and x ray configuration for metrics and traces permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Amazon CloudWatch and X-Ray Configuration for Metrics and Traces\"), mdx(\"p\", null, \"By utilizing this configuration you will be able to see datapoints for both metrics and traces in Amazon CloudWatch and X-Ray.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"https://github.com/aws-observability/aws-otel-collector/blob/main/config/ecs/ecs-cloudwatch-xray.yaml\"\n  }, \"ecs-cloudwatch-xray.yaml\"))), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\",\n    \"metastring\": \"lineNumbers=true\",\n    \"lineNumbers\": \"true\"\n  }, \"extensions:\\n  health_check:\\n\\nreceivers:\\n  otlp:\\n    protocols:\\n      grpc:\\n        endpoint: 0.0.0.0:4317\\n      http:\\n        endpoint: 0.0.0.0:4318\\n\\nprocessors:\\n  batch/traces:\\n    timeout: 1s\\n    send_batch_size: 50\\n  batch/metrics:\\n    timeout: 60s\\n  resourcedetection:\\n    detectors:\\n      - env\\n      - ecs\\n      - ec2\\n  resource:\\n    attributes:\\n      - key: TaskDefinitionFamily\\n        from_attribute: aws.ecs.task.family\\n        action: insert\\n      - key: aws.ecs.task.family\\n        action: delete\\n      - key: InstanceId\\n        from_attribute: host.id\\n        action: insert\\n      - key: host.id\\n        action: delete\\n      - key: TaskARN\\n        from_attribute: aws.ecs.task.arn\\n        action: insert\\n      - key: aws.ecs.task.arn\\n        action: delete\\n      - key: TaskDefinitionRevision\\n        from_attribute: aws.ecs.task.revision\\n        action: insert\\n      - key: aws.ecs.task.revision\\n        action: delete\\n      - key: LaunchType\\n        from_attribute: aws.ecs.launchtype\\n        action: insert\\n      - key: aws.ecs.launchtype\\n        action: delete\\n      - key: ClusterARN\\n        from_attribute: aws.ecs.cluster.arn\\n        action: insert\\n      - key: aws.ecs.cluster.arn\\n        action: delete\\n      - key: cloud.provider\\n        action: delete\\n      - key: cloud.platform\\n        action: delete\\n      - key: cloud.account.id\\n        action: delete\\n      - key: cloud.region\\n        action: delete\\n      - key: cloud.availability_zone\\n        action: delete\\n      - key: aws.log.group.names\\n        action: delete\\n      - key: aws.log.group.arns\\n        action: delete\\n      - key: aws.log.stream.names\\n        action: delete\\n      - key: host.image.id\\n        action: delete\\n      - key: host.name\\n        action: delete\\n      - key: host.type\\n        action: delete\\n\\nexporters:\\n  awsxray:\\n  awsemf/application:\\n    namespace: ECS/AWSOTel/Application\\n    log_group_name: '/aws/ecs/application/metrics'\\n    dimension_rollup_option: NoDimensionRollup\\n    resource_to_telemetry_conversion:\\n      enabled: true\\n\\nservice:\\n  pipelines:\\n    traces:\\n      receivers: [otlp]\\n      processors: [resourcedetection, batch/traces]\\n      exporters: [awsxray]\\n    metrics/application:\\n      receivers: [otlp]\\n      processors: [resourcedetection, resource, batch/metrics]\\n      exporters: [awsemf/application]\\n\\n  extensions: [health_check]\\n\")), mdx(\"h2\", {\n    \"id\": \"amp-and-x-ray-configuration-for-metrics-and-traces\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#amp-and-x-ray-configuration-for-metrics-and-traces\",\n    \"aria-label\": \"amp and x ray configuration for metrics and traces permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"AMP and X-Ray Configuration for Metrics and Traces\"), mdx(\"p\", null, \"By utilizing this configuration you will be able to see datapoints from both metrics and traces in Amazon Managed Services for Prometheus (AMP) and X-Ray. \"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"https://github.com/aws-observability/aws-otel-collector/blob/main/config/ecs/ecs-amp-xray.yaml\"\n  }, \"ecs-amp-xray.yaml\"))), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-yaml\",\n    \"metastring\": \"lineNumbers=true\",\n    \"lineNumbers\": \"true\"\n  }, \"extensions:\\n  health_check:\\n  sigv4auth:\\n\\nreceivers:\\n  otlp:\\n    protocols:\\n      grpc:\\n        endpoint: 0.0.0.0:4317\\n      http:\\n        endpoint: 0.0.0.0:4318\\n  awsecscontainermetrics:\\n\\nprocessors:\\n  batch/traces:\\n    timeout: 1s\\n    send_batch_size: 50\\n  batch/metrics:\\n    timeout: 60s\\n  resourcedetection:\\n    detectors:\\n      - env\\n      - system\\n      - ecs\\n      - ec2\\n  filter:\\n    metrics:\\n      include:\\n        match_type: strict\\n        metric_names:\\n          - ecs.task.memory.reserved\\n          - ecs.task.memory.utilized\\n          - ecs.task.cpu.reserved\\n          - ecs.task.cpu.utilized\\n          - ecs.task.network.rate.rx\\n          - ecs.task.network.rate.tx\\n          - ecs.task.storage.read_bytes\\n          - ecs.task.storage.write_bytes\\n          - container.duration\\n\\nexporters:\\n  awsxray:\\n  prometheusremotewrite:\\n    endpoint: $AWS_PROMETHEUS_ENDPOINT\\n    auth:\\n      authenticator: sigv4auth\\n    resource_to_telemetry_conversion:\\n      enabled: true\\n\\nservice:\\n  pipelines:\\n    traces:\\n      receivers: [otlp]\\n      processors: [resourcedetection, batch/traces]\\n      exporters: [awsxray]\\n    metrics/application:\\n      receivers: [otlp]\\n      processors: [resourcedetection, batch/metrics]\\n      exporters: [prometheusremotewrite]\\n    metrics:\\n      receivers: [awsecscontainermetrics]\\n      processors: [filter]\\n      exporters: [prometheusremotewrite]\\n\\n  extensions: [health_check, sigv4auth]\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","headings":[{"depth":2,"value":"AMP Configurations for metrics"},{"depth":3,"value":"Configuring dimensions"},{"depth":2,"value":"Amazon CloudWatch Configuration for Application metrics"},{"depth":2,"value":"X-Ray Configuration for traces"},{"depth":2,"value":"Amazon CloudWatch and X-Ray Configuration for Metrics and Traces"},{"depth":2,"value":"AMP and X-Ray Configuration for Metrics and Traces"}]}},"pageContext":{"slug":"/docs/getting-started/ecs-configurations/ecs-config-section/","repositoryEditUrl":"https://github.com/rocketseat/gatsby-themes/tree/main/examples/gatsby-theme-docs/src/docs/getting-started/ecs-configurations/ecs-config-section.mdx","repositoryProvider":"GitHub"}},
    "staticQueryHashes": ["2501019404","973074209"]}