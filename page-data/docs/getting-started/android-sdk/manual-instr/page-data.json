{
    "componentChunkName": "component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-docs-query-js",
    "path": "/docs/getting-started/android-sdk/manual-instr",
    "result": {"data":{"mdx":{"id":"2eb9f9ba-09d7-5218-affa-21f4f8e0d40b","excerpt":"Introduction The AWS Distro for OpenTelemetry (ADOT) Android SDK can used with any Android application running on Android OS 8+ (API level 26+) to gather realâ€¦","fields":{"slug":"/docs/getting-started/android-sdk/manual-instr/"},"frontmatter":{"title":"Manual Instrumentation for Traces and RUM Events with the Android SDK","description":"Learn how to manually instrument your Android application using the ADOT Android SDK to gather real user monitoring (RUM) telemetry data.","image":null,"disableTableOfContents":null},"body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"Manual Instrumentation for Traces and RUM Events with the Android SDK\",\n  \"description\": \"Learn how to manually instrument your Android application using the ADOT Android SDK to gather real user monitoring (RUM) telemetry data.\",\n  \"path\": \"/docs/getting-started/android-sdk/manual-instr\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", {\n    \"id\": \"introduction\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#introduction\",\n    \"aria-label\": \"introduction permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Introduction\"), mdx(\"p\", null, \"The AWS Distro for OpenTelemetry (ADOT) Android SDK can used with any Android application running on Android OS 8+ (API level 26+) to gather real user monitoring (RUM) telemetry data. The Android SDK acts as a wrapper atop the OpenTelemetry (OTel) SDK to simplify the process of instrumenting applications. It is pre-configured for compatibility with \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/CloudWatch-RUM.html\"\n  }, \"AWS CloudWatch RUM\"), \" but can also be used with any other tracing backend. Out of the box, it propagates traces using W3C Trace Context.\"), mdx(\"p\", null, \"The Android agent is the recommended way to instrument most Android applications for Traces and RUM Events. For more information, \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/docs/getting-started/android-sdk/auto-instr\"\n  }, \"refer to the documentation on auto-instrumentation\"), \".\"), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"requirements\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#requirements\",\n    \"aria-label\": \"requirements permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Requirements\"), mdx(\"p\", null, \"Currently, the Android SDK is only officially supported on applications running on \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Android 8.0 Oreo (API version 26)\"), \" or greater. \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Java 8 (or later)\"), \" and Kotlin \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"1.8.0 (or later)\"), \" is required to build the library.\"), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"installation\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#installation\",\n    \"aria-label\": \"installation permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Installation\"), mdx(\"p\", null, \"The ADOT Android SDK is published to Maven Central as the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"core\"), \" artifact. You should add the dependency to your application's \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"build.gradle\"), \" . For example (using Kotlin DSL):\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-kotlin\",\n    \"metastring\": \"lineNumbers=true\",\n    \"lineNumbers\": \"true\"\n  }, \"plugins {\\n    id(\\\"com.android.application\\\")\\n    id(\\\"org.jetbrains.kotlin.android\\\")\\n}\\n\\ndependencies {\\n    // ADOT Android Core - for manual instrumentation\\n    implementation(\\\"software.amazon.opentelemetry.android:core:1.0.0\\\")\\n    \\n    // Optional: Auth module for Sigv4 authentication\\n    implementation(\\\"software.amazon.opentelemetry.android:kotlin-sdk-auth:1.0.0\\\")\\n\\n    // Automated HTTP client instrumentation with ByteBuddy (optional but recommended)\\n    byteBuddy(\\\"io.opentelemetry.android.instrumentation:okhttp3-agent:0.15.0-alpha\\\")\\n    byteBuddy(\\\"io.opentelemetry.android.instrumentation:httpurlconnection-agent:0.15.0-alpha\\\")\\n}\\n\")), mdx(\"p\", null, \"Adding the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"core\"), \" module as a dependency requires you to manually initialize the SDK in your application code. Next, we'll discuss how to initialize and configure the SDK.\"), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"initializing-the-sdk-in-your-application\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#initializing-the-sdk-in-your-application\",\n    \"aria-label\": \"initializing the sdk in your application permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Initializing the SDK in your application\"), mdx(\"p\", null, \"In your application, preferably in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Application.onCreate()\"), \", you will need to initialize the SDK. At minimum, this requires the following:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-kotlin\",\n    \"metastring\": \"lineNumbers=true\",\n    \"lineNumbers\": \"true\"\n  }, \"import software.amazon.opentelemetry.android.OpenTelemetryRumClient\\n\\nclass MyApplication : Application() {\\n    override fun onCreate() {\\n        super.onCreate()\\n\\n        OpenTelemetryRumClient {\\n            androidApplication = this@MyApplication\\n        }\\n    }\\n}\\n\")), mdx(\"p\", null, \"This will initialize the OTel SDKs with the pre-enabled suite of default instrumentations on your provided \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"androidApplication\"), \". Next, you will configure the SDK to point the telemetry somewhere.\"), mdx(\"p\", null, \"NOTE: If you don't already have an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Application\"), \" class defined, you will need to register this new \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MyApplication\"), \" class in your Android manifest. You can find that in your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AndroidManifest.xml\"), \" file. For example:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-xml\",\n    \"metastring\": \"lineNumbers=true\",\n    \"lineNumbers\": \"true\"\n  }, \"<application>\\n    android:name=\\\"com.example.MyApplication\\\"\\n\\n    <!-- All other attributes, activities, etc -->\\n    \\n    android:label=\\\"MyApplication\\\"\\n\\n</application>\\n\")), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"configuring-the-sdk-with-aws-cloudwatch-rum-with-resource-based-policies\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#configuring-the-sdk-with-aws-cloudwatch-rum-with-resource-based-policies\",\n    \"aria-label\": \"configuring the sdk with aws cloudwatch rum with resource based policies permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Configuring the SDK with AWS CloudWatch RUM (with resource-based policies)\"), mdx(\"p\", null, \"ADOT Android is pre-configured to work with AWS CloudWatch RUM. To export RUM telemetry to CloudWatch RUM, you will need to first \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/CloudWatch-RUM-web-mobile.html#mobile-platform-app-monitor\"\n  }, \"create an app monitor\"), \" with resource-based policies. Next, modify your code with the following:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-kotlin\",\n    \"metastring\": \"lineNumbers=true\",\n    \"lineNumbers\": \"true\"\n  }, \"import io.opentelemetry.sdk.resources.Resource\\nimport software.amazon.opentelemetry.android.OpenTelemetryRumClient\\n\\nclass MyApplication : Application() {\\n    override fun onCreate() {\\n        super.onCreate()\\n\\n        OpenTelemetryRumClient {\\n            androidApplication = this@MyApplication  \\n            \\n            // point telemetry to AWS RUM\\n            awsRum {\\n                region = \\\"<your region>\\\"\\n                appMonitorId = \\\"<your app monitor id>\\\"\\n                \\n                // optional, if you have a resource-based policy with an alias\\n                alias = \\\"<your rum alias>\\\"\\n            }\\n                   \\n            // customize your OTel Resource\\n            otelResource = Resource.builder()\\n                .put(\\\"service.name\\\", \\\"MyApplication\\\")\\n                .put(\\\"service.namespace\\\", \\\"MyTeam\\\")\\n                .put(\\\"service.version\\\", \\\"1.0.0\\\")\\n                .put(\\\"deployment.environment\\\", \\\"production\\\")\\n                .build()\\n        }\\n    }\\n}\\n\")), mdx(\"p\", null, \"That's it! This is the minimum configuration to begin exporting RUM telemetry to CloudWatch RUM. From there, you can use CloudWatch RUM and CloudWatch Application Signals to monitor your application health and track long-term application performance against your business objectives.\"), mdx(\"p\", null, \"Application Signals provides you with a unified, application-centric view of your applications, services, and dependencies, and helps you monitor and triage application health.\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/CloudWatch-Application-Monitoring-Sections.html\"\n  }, \"Get started with CloudWatch Application Signals\")), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/CloudWatch-RUM-resource-policies.html\"\n  }, \"Use resource-based policies with CloudWatch RUM\")), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"configuring-the-sdk-with-other-otlp-endpoints\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#configuring-the-sdk-with-other-otlp-endpoints\",\n    \"aria-label\": \"configuring the sdk with other otlp endpoints permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Configuring the SDK with other OTLP endpoints\"), mdx(\"p\", null, \"To export to a third-party OTLP endpoint that is not yet supported in the Android SDK out of the box, you can configure custom Span and LogRecord exporters:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-kotlin\",\n    \"metastring\": \"lineNumbers=true\",\n    \"lineNumbers\": \"true\"\n  }, \"import io.opentelemetry.exporter.otlp.http.trace.OtlpHttpSpanExporter\\nimport io.opentelemetry.exporter.otlp.http.logs.OtlpHttpLogRecordExporter\\nimport io.opentelemetry.sdk.resources.Resource\\n\\nclass MyApplication : Application() {\\n    override fun onCreate() {\\n        super.onCreate()\\n\\n        OpenTelemetryRumClient {\\n            androidApplication = this@MyApplication\\n            \\n            // Configure custom OTLP endpoints\\n            spanExporter = OtlpHttpSpanExporter.builder()\\n                .setEndpoint(\\\"https://your-collector.example.com/v1/traces\\\")\\n                .build()\\n                \\n            logRecordExporter = OtlpHttpLogRecordExporter.builder()\\n                .setEndpoint(\\\"https://your-collector.example.com/v1/logs\\\")\\n                .build()\\n            \\n            otelResource = Resource.builder()\\n                .put(\\\"service.name\\\", \\\"MyApplication\\\")\\n                .put(\\\"service.version\\\", \\\"1.0.0\\\")\\n                .build()\\n        }\\n    }\\n}\\n\")), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"adding-custom-headers\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#adding-custom-headers\",\n    \"aria-label\": \"adding custom headers permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Adding custom headers\"), mdx(\"p\", null, \"If your OTLP endpoint requires authentication or custom headers, you can supply those yourself. For example:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-kotlin\",\n    \"metastring\": \"lineNumbers=true\",\n    \"lineNumbers\": \"true\"\n  }, \"spanExporter = OtlpHttpSpanExporter.builder()\\n    .setEndpoint(\\\"https://your-collector.example.com/v1/traces\\\")\\n    .setHeaders(mapOf(\\n        \\\"Authorization\\\" to \\\"Bearer your-token\\\",\\n        \\\"X-Custom-Header\\\" to \\\"value\\\"\\n    ))\\n    .build()\\n\")), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"exporting-with-sigv4-headers\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#exporting-with-sigv4-headers\",\n    \"aria-label\": \"exporting with sigv4 headers permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Exporting with Sigv4 headers\"), mdx(\"p\", null, \"To simplify the process of exporting telemetry via OTLP with Sigv4 signed requests, the Android SDK ships with an optional \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"kotlin-sdk-auth\"), \" library. You are responsible for sourcing your own credentials in a secure manner. An example implementation could look like:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-kotlin\",\n    \"metastring\": \"lineNumbers=true\",\n    \"lineNumbers\": \"true\"\n  }, \"import aws.smithy.kotlin.runtime.auth.awscredentials.Credentials\\nimport aws.smithy.kotlin.runtime.auth.awscredentials.CredentialsProvider\\nimport io.opentelemetry.sdk.resources.Resource\\nimport software.amazon.opentelemetry.android.OpenTelemetryRumClient\\nimport software.amazon.opentelemetry.android.auth.AwsSigV4SpanExporter\\nimport software.amazon.opentelemetry.android.auth.AwsSigV4LogRecordExporter\\n\\nclass MyApplication : Application() {\\n    override fun onCreate() {\\n        super.onCreate()\\n\\n        // Configure your AWS credentials provider\\n        val credentialsProvider = CredentialsProvider {\\n            Credentials(\\n                accessKeyId = \\\"your-access-key-id\\\",\\n                secretAccessKey = \\\"your-secret-access-key\\\"\\n                sessionToken = \\\"your-session-token\\\"\\n            )\\n        }\\n\\n        OpenTelemetryRumClient {\\n            androidApplication = this@MyApplication\\n            \\n            // Configure SigV4-signed exporters for RUM data plane\\n            spanExporter = AwsSigV4SpanExporter.builder()\\n                .setEndpoint(\\\"https://dataplane.rum.us-east-1.amazonaws.com/v1/rum\\\")\\n                .setRegion(\\\"us-east-1\\\")\\n                .setServiceName(\\\"rum\\\")\\n                .setCredentialsProvider(credentialsProvider)\\n                .build()\\n                \\n            logRecordExporter = AwsSigV4LogRecordExporter.builder()\\n                .setEndpoint(\\\"https://dataplane.rum.us-east-1.amazonaws.com/v1/rum\\\")\\n                .setRegion(\\\"us-east-1\\\")\\n                .setServiceName(\\\"rum\\\")\\n                .setCredentialsProvider(credentialsProvider)\\n                .build()\\n            \\n            otelResource = Resource.builder()\\n                .put(\\\"service.name\\\", \\\"MyApplication\\\")\\n                .put(\\\"service.version\\\", \\\"1.0.0\\\")\\n                .build()\\n        }\\n    }\\n}\\n\")), mdx(\"p\", null, \"NOTE: Vending your application with static credentials in a production environment carries inherent risk. One possible solution is to source your credentials from Amazon Cognito using the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://aws.amazon.com/sdk-for-kotlin/\"\n  }, \"AWS SDK for Kotlin.\")), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"advanced-customization-of-the-sdk\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#advanced-customization-of-the-sdk\",\n    \"aria-label\": \"advanced customization of the sdk permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Advanced customization of the SDK\"), mdx(\"p\", null, \"By default, the SDK enables all available telemetry types. You can selectively enable or disable specific telemetry types to control what RUM data is collected from your application.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-kotlin\",\n    \"metastring\": \"lineNumbers=true\",\n    \"lineNumbers\": \"true\"\n  }, \"import io.opentelemetry.sdk.resources.Resource\\nimport io.opentelemetry.sdk.trace.samplers.Sampler\\nimport software.amazon.opentelemetry.android.OpenTelemetryRumClient\\nimport software.amazon.opentelemetry.android.TelemetryConfig\\n\\nclass MyApplication : Application() {\\n    override fun onCreate() {\\n        super.onCreate()\\n\\n        OpenTelemetryRumClient {\\n            androidApplication = this@MyApplication\\n            \\n            awsRum {\\n                region = \\\"us-east-1\\\"\\n                appMonitorId = \\\"your-app-monitor-id\\\"\\n            }\\n            \\n            // Customize telemetry types\\n            telemetry = listOf(\\n                TelemetryConfig.ACTIVITY,           // Activity lifecycle spans\\n                TelemetryConfig.FRAGMENT,           // Fragment lifecycle spans\\n                TelemetryConfig.ANR,                // ANR detection\\n                TelemetryConfig.CRASH,              // Crash reporting\\n                TelemetryConfig.NETWORK,            // Network state monitoring\\n                TelemetryConfig.SLOW_RENDERING,     // Slow rendering detection\\n                TelemetryConfig.STARTUP,            // App startup monitoring\\n                TelemetryConfig.HTTP_URLCONNECTION, // HttpURLConnection instrumentation\\n                TelemetryConfig.OKHTTP_3,           // OkHttp3 instrumentation\\n                TelemetryConfig.UI_LOADING,         // UI load time (TTFD)\\n                TelemetryConfig.SESSION_EVENTS      // Session start/end events\\n            )\\n            \\n            otelResource = Resource.builder()\\n                .put(\\\"service.name\\\", \\\"MyApplication\\\")\\n                .build()\\n\\n            tracerSampler = Sampler.create(0.1) // sample 10% of traces\\n        }\\n    }\\n}\\n\")), mdx(\"p\", null, \"For more advanced configuration options, refer to the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://github.com/aws-observability/aws-otel-android\"\n  }, \"ADOT Android GitHub repository\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;","headings":[{"depth":2,"value":"Introduction"},{"depth":2,"value":"Requirements"},{"depth":2,"value":"Installation"},{"depth":2,"value":"Initializing the SDK in your application"},{"depth":2,"value":"Configuring the SDK with AWS CloudWatch RUM (with resource-based policies)"},{"depth":2,"value":"Configuring the SDK with other OTLP endpoints"},{"depth":2,"value":"Adding custom headers"},{"depth":2,"value":"Exporting with Sigv4 headers"},{"depth":2,"value":"Advanced customization of the SDK"}]}},"pageContext":{"slug":"/docs/getting-started/android-sdk/manual-instr/","repositoryEditUrl":"https://github.com/rocketseat/gatsby-themes/tree/main/examples/gatsby-theme-docs/src/docs/getting-started/android-sdk/manual-instr.mdx","repositoryProvider":"GitHub"}},
    "staticQueryHashes": ["2501019404","973074209"]}