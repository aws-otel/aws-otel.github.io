{
    "componentChunkName": "component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-docs-query-js",
    "path": "/docs/getting-started/android-sdk/auto-instr",
    "result": {"data":{"mdx":{"id":"c9392ecb-269c-5d32-8936-18d511cd3a43","excerpt":"Introduction The AWS Distro for OpenTelemetry (ADOT) Android Auto-Instrumentation Agent can be installed onto any Android application running on Android OSâ€¦","fields":{"slug":"/docs/getting-started/android-sdk/auto-instr/"},"frontmatter":{"title":"Auto-Instrumentation for Traces and RUM Events with the Android agent","description":"Learn how to get started with Android Auto-Instrumentation Agent. The agent automatically initializes the OpenTelemetry SDK at application startup to collect tracing and RUM event data.","image":null,"disableTableOfContents":null},"body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"Auto-Instrumentation for Traces and RUM Events with the Android agent\",\n  \"description\": \"Learn how to get started with Android Auto-Instrumentation Agent. The agent automatically initializes the OpenTelemetry SDK at application startup to collect tracing and RUM event data.\",\n  \"path\": \"/docs/getting-started/android-sdk/auto-instr\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", {\n    \"id\": \"introduction\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#introduction\",\n    \"aria-label\": \"introduction permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Introduction\"), mdx(\"p\", null, \"The AWS Distro for OpenTelemetry (ADOT) Android Auto-Instrumentation Agent can be installed onto any Android application running on Android OS 8+ (API level 26+) to gather real user monitoring (RUM) telemetry data. The agent will automatically initialize the OpenTelemetry (OTel) SDK at application startup to collect tracing and RUM event data. It is preconfigured for compatibility with \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/CloudWatch-RUM.html\"\n  }, \"AWS CloudWatch RUM\"), \" but can also be used with any other tracing backend. Out of the box, it propagates traces using W3C Trace Context.\"), mdx(\"p\", null, \"The agent is the recommended way to instrument your Android application for Traces and RUM Events.\"), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"requirements\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#requirements\",\n    \"aria-label\": \"requirements permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Requirements\"), mdx(\"p\", null, \"Currently, the Android Agent is only officially supported on applications running on \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Android 8.0 Oreo (API version 26)\"), \" or greater. \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Java 8 (or later)\"), \" and Kotlin \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"1.8.0 (or later)\"), \" is required to build the library.\"), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"installation\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#installation\",\n    \"aria-label\": \"installation permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Installation\"), mdx(\"p\", null, \"The ADOT Android Agent is published to Maven Central as the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"agent\"), \" artifact. You should add the dependency to your application's \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"build.gradle\"), \" . For example (using Kotlin DSL):\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-kotlin\",\n    \"metastring\": \"lineNumbers=true\",\n    \"lineNumbers\": \"true\"\n  }, \"plugins {\\n    id(\\\"com.android.application\\\")\\n    id(\\\"org.jetbrains.kotlin.android\\\")\\n}\\n\\ndependencies {\\n    // ADOT Android Agent - includes automatic instrumentation\\n    implementation(\\\"software.amazon.opentelemetry.android:agent:1.0.0\\\")\\n\\n    // Automated HTTP client instrumentation with ByteBuddy (optional but recommended)\\n    byteBuddy(\\\"io.opentelemetry.android.instrumentation:okhttp3-agent:0.15.0-alpha\\\")\\n    byteBuddy(\\\"io.opentelemetry.android.instrumentation:httpurlconnection-agent:0.15.0-alpha\\\")\\n}\\n\")), mdx(\"p\", null, \"Adding the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"agent\"), \" as a dependency to your application will automatically initialize the OTel SDK and instrument core vital signals out of the box in your application as Traces and RUM events. Next, you will need to configure the agent.\"), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"configuring-the-agent-with-aws-cloudwatch-rum\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#configuring-the-agent-with-aws-cloudwatch-rum\",\n    \"aria-label\": \"configuring the agent with aws cloudwatch rum permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Configuring the agent with AWS CloudWatch RUM\"), mdx(\"p\", null, \"ADOT Android is pre-configured to work with AWS CloudWatch RUM. To export RUM telemetry to CloudWatch RUM, you will need to first \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/CloudWatch-RUM-web-mobile.html#mobile-platform-app-monitor\"\n  }, \"create an app monitor\"), \", ideally with resource-based policies. Next, create a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"res/raw/aws_config.json\"), \" file to distribute along with your Android application:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\",\n    \"metastring\": \"lineNumbers=true\",\n    \"lineNumbers\": \"true\"\n  }, \"{\\n  \\\"aws\\\": {\\n    \\\"region\\\": \\\"<your region>\\\",\\n    \\\"rumAppMonitorId\\\": \\\"<your app monitor id>\\\",\\n    \\n    // optional, if you have a resource-based policy with an alias\\n    \\\"rumAlias\\\": \\\"<your rum alias\\\"\\n  },\\n  \\n  // optional resource attributes, but recommended\\n  \\\"otelResourceAttributes\\\": {\\n    \\\"service.name\\\": \\\"MyApplication\\\",\\n    \\\"service.namespace\\\": \\\"MyTeam\\\",\\n    \\\"service.version\\\": \\\"1.0.0\\\",\\n    \\\"deployment.environment\\\": \\\"production\\\"\\n    // ... plus any additional custom resource attributes you want to define\\n  }\\n}\\n\")), mdx(\"p\", null, \"That's it! This is the minimum configuration to begin exporting RUM telemetry to CloudWatch RUM. From there, you can use CloudWatch RUM and CloudWatch Application Signals to monitor your application health and track long-term application performance against your business objectives.\"), mdx(\"p\", null, \"Application Signals provides you with a unified, application-centric view of your applications, services, and dependencies, and helps you monitor and triage application health.\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/CloudWatch-Application-Monitoring-Sections.html\"\n  }, \"Get started with CloudWatch Application Signals\")), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/CloudWatch-RUM-resource-policies.html\"\n  }, \"Use resource-based policies with CloudWatch RUM\")), mdx(\"h3\", {\n    \"id\": \"configuring-session-sampling\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#configuring-session-sampling\",\n    \"aria-label\": \"configuring session sampling permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Configuring session sampling\"), mdx(\"p\", null, \"The agent can be configured to use a custom session id ratio sampler strategy for Traces. For example, to configure a session sampling rate of 30%:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\",\n    \"metastring\": \"lineNumbers=true\",\n    \"lineNumbers\": \"true\"\n  }, \"{\\n  \\\"aws\\\": {\\n    \\\"region\\\": \\\"<your region>\\\",\\n    \\\"rumAppMonitorId\\\": \\\"<your app monitor id>\\\",\\n  },\\n  \\\"otelResourceAttributes\\\": {\\n    \\\"service.name\\\": \\\"MyApplication\\\",\\n    \\\"service.version\\\": \\\"1.0.0\\\"\\n  },\\n  \\\"sessionSampleRate\\\": 0.3\\n}\\n\")), mdx(\"h3\", {\n    \"id\": \"advanced-configuration\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#advanced-configuration\",\n    \"aria-label\": \"advanced configuration permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Advanced configuration\"), mdx(\"p\", null, \"For more advanced configuration options, refer to the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/aws-observability/aws-otel-android\"\n  }, \"ADOT Android GitHub repository\"), \".\"), mdx(SectionSeparator, {\n    mdxType: \"SectionSeparator\"\n  }), mdx(\"h2\", {\n    \"id\": \"telemetry-you-get-out-of-the-box\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#telemetry-you-get-out-of-the-box\",\n    \"aria-label\": \"telemetry you get out of the box permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Telemetry you get out of the box\"), mdx(\"p\", null, \"You can expect Auto-Instrumentation on the following:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"App launch (cold, warm and hot) spans\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Activity and Fragment lifecycle spans\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"HTTP / HTTPS client spans and end-to-end tracing with support for URLConnection and OkHttp3\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Crash reporting for unhandled exceptions and system crashes\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"ANR (App Not Responding) events\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"UI performance monitoring including time to initial draw and \\\"jank\\\" monitoring\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Session monitoring that will keep track of individual real user sessions\")), mdx(\"p\", null, \"Note: HTTP instrumentation is powered by ByteBuddy code transformation. You will need the ByteBuddy dependency as mentioned above in order to get automated HTTP tracing out of the box.\"));\n}\n;\nMDXContent.isMDXComponent = true;","headings":[{"depth":2,"value":"Introduction"},{"depth":2,"value":"Requirements"},{"depth":2,"value":"Installation"},{"depth":2,"value":"Configuring the agent with AWS CloudWatch RUM"},{"depth":3,"value":"Configuring session sampling"},{"depth":3,"value":"Advanced configuration"},{"depth":2,"value":"Telemetry you get out of the box"}]}},"pageContext":{"slug":"/docs/getting-started/android-sdk/auto-instr/","repositoryEditUrl":"https://github.com/rocketseat/gatsby-themes/tree/main/examples/gatsby-theme-docs/src/docs/getting-started/android-sdk/auto-instr.mdx","repositoryProvider":"GitHub"}},
    "staticQueryHashes": ["2501019404","973074209"]}